'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const master_model_1 = require("../master/master.model");
class SocketioModel extends master_model_1.default {
    init(files, app) {
        this.services = files.services;
        this.schema = {};
        this.listenForSchemaAddition("Config");
    }
    get priority() {
        return 5;
    }
    createModel() {
        this.setModel("Config");
        this.removeListen("Config");
        setTimeout(() => this.services.warmConfig());
        return Promise.resolve();
    }
}
exports.default = SocketioModel;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9saWIvc29ja2V0aW8vc29ja2V0aW8ubW9kZWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOztBQUNiLHlEQUFpRDtBQUdqRCxtQkFBbUMsU0FBUSxzQkFBVztJQUdsRCxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUc7UUFDWCxJQUFJLENBQUMsUUFBUSxHQUFHLEtBQUssQ0FBQyxRQUFRLENBQUM7UUFDL0IsSUFBSSxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUM7UUFDakIsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNDLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixNQUFNLENBQUMsQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUVELFdBQVc7UUFDUCxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxZQUFZLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFNUIsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1FBQzdDLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDN0IsQ0FBQztDQUNKO0FBcEJELGdDQW9CQztBQUFBLENBQUMiLCJmaWxlIjoibGliL3NvY2tldGlvL3NvY2tldGlvLm1vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IE1hc3Rlck1vZGVsIGZyb20gJy4uL21hc3Rlci9tYXN0ZXIubW9kZWwnO1xuaW1wb3J0IFNvY2tldGlvU2VydmljZXMgZnJvbSAnLi9zb2NrZXRpby5zZXJ2aWNlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNvY2tldGlvTW9kZWwgZXh0ZW5kcyBNYXN0ZXJNb2RlbCB7XG4gICAgcHJvdGVjdGVkIHNlcnZpY2VzOiBTb2NrZXRpb1NlcnZpY2VzO1xuXG4gICAgaW5pdChmaWxlcywgYXBwKSB7XG4gICAgICAgIHRoaXMuc2VydmljZXMgPSBmaWxlcy5zZXJ2aWNlcztcbiAgICAgICAgdGhpcy5zY2hlbWEgPSB7fTtcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JTY2hlbWFBZGRpdGlvbihcIkNvbmZpZ1wiKTtcbiAgICB9XG5cbiAgICBnZXQgcHJpb3JpdHkoKSB7XG4gICAgICAgIHJldHVybiA1O1xuICAgIH1cblxuICAgIGNyZWF0ZU1vZGVsKCkge1xuICAgICAgICB0aGlzLnNldE1vZGVsKFwiQ29uZmlnXCIpO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbihcIkNvbmZpZ1wiKTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuc2VydmljZXMud2FybUNvbmZpZygpKTsgLy8gdGltZW91dCBzbyB0aGUgTW9kZWwgY2FuIGJlIHNldFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufTsiXX0=
