'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const master_services_1 = require("../master/master.services");
const _ = require("underscore");
class PartyServices extends master_services_1.default {
    getPartyName() {
        return _.uniqueId("party-");
    }
    pickLeader(socket, party) {
        for (let member of party.members) {
            if (socket.map.get(member)) {
                return member;
            }
        }
        return party.members.values().next().value;
    }
    getAllPartyMembers(party) {
        return Array.from(party.members).concat(party.leader);
    }
}
exports.default = PartyServices;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9saWIvcGFydHkvcGFydHkuc2VydmljZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDOztBQUNiLCtEQUF1RDtBQUN2RCxnQ0FBZ0M7QUFFaEMsbUJBQW1DLFNBQVEseUJBQWM7SUFDOUMsWUFBWTtRQUNmLE1BQU0sQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFTSxVQUFVLENBQUMsTUFBa0IsRUFBRSxLQUFrQjtRQUVwRCxHQUFHLENBQUMsQ0FBQyxJQUFJLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUMvQixFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLE1BQU0sQ0FBQyxNQUFNLENBQUM7WUFDbEIsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxLQUFLLENBQUM7SUFDL0MsQ0FBQztJQUVNLGtCQUFrQixDQUFDLEtBQWtCO1FBQ3hDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQzFELENBQUM7Q0FDSjtBQW5CRCxnQ0FtQkM7QUFBQSxDQUFDIiwiZmlsZSI6ImxpYi9wYXJ0eS9wYXJ0eS5zZXJ2aWNlcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCBNYXN0ZXJTZXJ2aWNlcyBmcm9tICcuLi9tYXN0ZXIvbWFzdGVyLnNlcnZpY2VzJztcbmltcG9ydCAqIGFzIF8gZnJvbSAndW5kZXJzY29yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnR5U2VydmljZXMgZXh0ZW5kcyBNYXN0ZXJTZXJ2aWNlcyB7XG4gICAgcHVibGljIGdldFBhcnR5TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIF8udW5pcXVlSWQoXCJwYXJ0eS1cIik7XG4gICAgfVxuXG4gICAgcHVibGljIHBpY2tMZWFkZXIoc29ja2V0OiBHYW1lU29ja2V0LCBwYXJ0eTogUEFSVFlfTU9ERUwpOiBzdHJpbmcge1xuICAgICAgICAvLyBnZXQgdGhlIGZpcnN0IG1lbWJlciBpbiBwYXJ0eSB0aGF0IGlzIG9ubGluZVxuICAgICAgICBmb3IgKGxldCBtZW1iZXIgb2YgcGFydHkubWVtYmVycykge1xuICAgICAgICAgICAgaWYgKHNvY2tldC5tYXAuZ2V0KG1lbWJlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vIG9uZSBpcyBvbmxpbmUgLSBwaWNrIHRoZSBmaXJzdCBvbmVcbiAgICAgICAgcmV0dXJuIHBhcnR5Lm1lbWJlcnMudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXRBbGxQYXJ0eU1lbWJlcnMocGFydHk6IFBBUlRZX01PREVMKTogc3RyaW5nW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJ0eS5tZW1iZXJzKS5jb25jYXQocGFydHkubGVhZGVyKTtcbiAgICB9XG59OyJdfQ==
