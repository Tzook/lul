'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const master_middleware_1 = require("../master/master.middleware");
let config = require('../../../server/lib/party/party.config.json');
class PartyMiddleware extends master_middleware_1.default {
    isLeader(name, party) {
        return party.leader === name;
    }
    isMember(name, party) {
        return party.members.has(name);
    }
    isInParty(name, party) {
        return this.isLeader(name, party) || this.isMember(name, party);
    }
    isPartyFull(party) {
        return party.members.size + 1 >= config.MAX_PARTY_MEMBERS;
    }
    isInvited(party, socket) {
        return party.invitees.has(socket.character.name);
    }
}
exports.default = PartyMiddleware;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9saWIvcGFydHkvcGFydHkubWlkZGxld2FyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IsbUVBQTJEO0FBQzNELElBQUksTUFBTSxHQUFHLE9BQU8sQ0FBQyw2Q0FBNkMsQ0FBQyxDQUFDO0FBRXBFLHFCQUFxQyxTQUFRLDJCQUFnQjtJQUNsRCxRQUFRLENBQUMsSUFBWSxFQUFFLEtBQWtCO1FBQzVDLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxLQUFLLElBQUksQ0FBQztJQUNqQyxDQUFDO0lBRU0sUUFBUSxDQUFDLElBQVksRUFBRSxLQUFrQjtRQUM1QyxNQUFNLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkMsQ0FBQztJQUVNLFNBQVMsQ0FBQyxJQUFZLEVBQUUsS0FBa0I7UUFDN0MsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFFTSxXQUFXLENBQUMsS0FBa0I7UUFDakMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxHQUFJLENBQUMsSUFBSSxNQUFNLENBQUMsaUJBQWlCLENBQUM7SUFDL0QsQ0FBQztJQUVNLFNBQVMsQ0FBQyxLQUFrQixFQUFFLE1BQWtCO1FBQ25ELE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JELENBQUM7Q0FDSjtBQXBCRCxrQ0FvQkM7QUFBQSxDQUFDIiwiZmlsZSI6ImxpYi9wYXJ0eS9wYXJ0eS5taWRkbGV3YXJlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IE1hc3Rlck1pZGRsZXdhcmUgZnJvbSAnLi4vbWFzdGVyL21hc3Rlci5taWRkbGV3YXJlJztcbmxldCBjb25maWcgPSByZXF1aXJlKCcuLi8uLi8uLi9zZXJ2ZXIvbGliL3BhcnR5L3BhcnR5LmNvbmZpZy5qc29uJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhcnR5TWlkZGxld2FyZSBleHRlbmRzIE1hc3Rlck1pZGRsZXdhcmUge1xuICAgIHB1YmxpYyBpc0xlYWRlcihuYW1lOiBzdHJpbmcsIHBhcnR5OiBQQVJUWV9NT0RFTCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gcGFydHkubGVhZGVyID09PSBuYW1lO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc01lbWJlcihuYW1lOiBzdHJpbmcsIHBhcnR5OiBQQVJUWV9NT0RFTCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gcGFydHkubWVtYmVycy5oYXMobmFtZSk7XG4gICAgfVxuXG4gICAgcHVibGljIGlzSW5QYXJ0eShuYW1lOiBzdHJpbmcsIHBhcnR5OiBQQVJUWV9NT0RFTCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0xlYWRlcihuYW1lLCBwYXJ0eSkgfHwgdGhpcy5pc01lbWJlcihuYW1lLCBwYXJ0eSk7IFxuICAgIH1cblxuICAgIHB1YmxpYyBpc1BhcnR5RnVsbChwYXJ0eTogUEFSVFlfTU9ERUwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHBhcnR5Lm1lbWJlcnMuc2l6ZSAgKyAxID49IGNvbmZpZy5NQVhfUEFSVFlfTUVNQkVSUztcbiAgICB9XG5cbiAgICBwdWJsaWMgaXNJbnZpdGVkKHBhcnR5OiBQQVJUWV9NT0RFTCwgc29ja2V0OiBHYW1lU29ja2V0KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBwYXJ0eS5pbnZpdGVlcy5oYXMoc29ja2V0LmNoYXJhY3Rlci5uYW1lKTtcbiAgICB9XG59OyJdfQ==
