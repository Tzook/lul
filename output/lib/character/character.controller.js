'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const master_controller_1 = require("../master/master.controller");
class CharacterController extends master_controller_1.default {
    handleNewCharacter(req, res, next) {
        return this.services.saveNewCharacter(req.user, req.body)
            .then(d => {
            this.sendData(res, this.LOGS.CHARACTER_CREATED_SUCCESSFULLY, req.user.characters);
        })
            .catch(e => {
            this.sendError(res, this.LOGS.MASTER_INTERNAL_ERROR, { e, fn: "handleNewCharacter", file: "character.controller.js" });
        });
    }
    deleteCharacter(req, res, next) {
        this.services.deleteCharacter(req.user, req.body.id)
            .then(d => {
            this.sendData(res, this.LOGS.CHARACTER_DELETED_SUCCESSFULLY, req.user.characters);
        })
            .catch(e => {
            this.sendError(res, this.LOGS.MASTER_INTERNAL_ERROR, { e, fn: "deleteCharacter", file: "character.controller.js" });
        });
    }
}
exports.default = CharacterController;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9saWIvY2hhcmFjdGVyL2NoYXJhY3Rlci5jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFlBQVksQ0FBQzs7QUFDYixtRUFBMkQ7QUFFM0QseUJBQXlDLFNBQVEsMkJBQWdCO0lBRTdELGtCQUFrQixDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSTtRQUM3QixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUM7YUFDeEQsSUFBSSxDQUFDLENBQUM7WUFDSCxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLDhCQUE4QixFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDdEYsQ0FBQyxDQUFDO2FBQ0QsS0FBSyxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLHFCQUFxQixFQUFFLEVBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxvQkFBb0IsRUFBRSxJQUFJLEVBQUUseUJBQXlCLEVBQUMsQ0FBQyxDQUFDO1FBQ3pILENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQUVELGVBQWUsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUk7UUFDMUIsSUFBSSxDQUFDLFFBQVEsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQzthQUNuRCxJQUFJLENBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsOEJBQThCLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN0RixDQUFDLENBQUM7YUFDRCxLQUFLLENBQUMsQ0FBQztZQUNKLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMscUJBQXFCLEVBQUUsRUFBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLGlCQUFpQixFQUFFLElBQUksRUFBRSx5QkFBeUIsRUFBQyxDQUFDLENBQUM7UUFDdEgsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUFyQkQsc0NBcUJDO0FBQUEsQ0FBQyIsImZpbGUiOiJsaWIvY2hhcmFjdGVyL2NoYXJhY3Rlci5jb250cm9sbGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IE1hc3RlckNvbnRyb2xsZXIgZnJvbSAnLi4vbWFzdGVyL21hc3Rlci5jb250cm9sbGVyJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyQ29udHJvbGxlciBleHRlbmRzIE1hc3RlckNvbnRyb2xsZXIge1xuXG4gICAgaGFuZGxlTmV3Q2hhcmFjdGVyKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcnZpY2VzLnNhdmVOZXdDaGFyYWN0ZXIocmVxLnVzZXIsIHJlcS5ib2R5KVxuICAgICAgICAudGhlbihkID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VuZERhdGEocmVzLCB0aGlzLkxPR1MuQ0hBUkFDVEVSX0NSRUFURURfU1VDQ0VTU0ZVTExZLCByZXEudXNlci5jaGFyYWN0ZXJzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3IocmVzLCB0aGlzLkxPR1MuTUFTVEVSX0lOVEVSTkFMX0VSUk9SLCB7ZSwgZm46IFwiaGFuZGxlTmV3Q2hhcmFjdGVyXCIsIGZpbGU6IFwiY2hhcmFjdGVyLmNvbnRyb2xsZXIuanNcIn0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBkZWxldGVDaGFyYWN0ZXIocmVxLCByZXMsIG5leHQpIHtcbiAgICAgICAgdGhpcy5zZXJ2aWNlcy5kZWxldGVDaGFyYWN0ZXIocmVxLnVzZXIsIHJlcS5ib2R5LmlkKVxuICAgICAgICAudGhlbihkID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VuZERhdGEocmVzLCB0aGlzLkxPR1MuQ0hBUkFDVEVSX0RFTEVURURfU1VDQ0VTU0ZVTExZLCByZXEudXNlci5jaGFyYWN0ZXJzKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZW5kRXJyb3IocmVzLCB0aGlzLkxPR1MuTUFTVEVSX0lOVEVSTkFMX0VSUk9SLCB7ZSwgZm46IFwiZGVsZXRlQ2hhcmFjdGVyXCIsIGZpbGU6IFwiY2hhcmFjdGVyLmNvbnRyb2xsZXIuanNcIn0pO1xuICAgICAgICB9KTtcbiAgICB9XG59OyJdfQ==
