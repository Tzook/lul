'use strict';
Object.defineProperty(exports, "__esModule", { value: true });
const master_model_1 = require("../master/master.model");
class CharacterModel extends master_model_1.default {
    init(files, app) {
        let looks = {
            g: Boolean,
            eyes: String,
            nose: String,
            mouth: String,
            skin: String,
            hair: String
        };
        this.schema = {
            name: String,
            looks
        };
        this.listenForSchemaAddition('Character');
    }
    get priority() {
        return 10;
    }
    createModel() {
        this.setModel('Character');
        this.addToSchema('User', { characters: [this.getModel().schema] });
        this.removeListen('Character');
        return Promise.resolve();
    }
}
exports.default = CharacterModel;
;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NlcnZlci9saWIvY2hhcmFjdGVyL2NoYXJhY3Rlci5tb2RlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxZQUFZLENBQUM7O0FBQ2IseURBQWlEO0FBRWpELG9CQUFvQyxTQUFRLHNCQUFXO0lBRW5ELElBQUksQ0FBQyxLQUFLLEVBQUUsR0FBRztRQUNYLElBQUksS0FBSyxHQUFHO1lBQ1IsQ0FBQyxFQUFFLE9BQU87WUFDVixJQUFJLEVBQUUsTUFBTTtZQUNaLElBQUksRUFBRSxNQUFNO1lBQ1osS0FBSyxFQUFFLE1BQU07WUFDYixJQUFJLEVBQUUsTUFBTTtZQUNaLElBQUksRUFBRSxNQUFNO1NBQ2YsQ0FBQztRQUNGLElBQUksQ0FBQyxNQUFNLEdBQUc7WUFDVixJQUFJLEVBQUUsTUFBTTtZQUNaLEtBQUs7U0FDUixDQUFDO1FBQ0YsSUFBSSxDQUFDLHVCQUF1QixDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCxJQUFJLFFBQVE7UUFDUixNQUFNLENBQUMsRUFBRSxDQUFDO0lBQ2QsQ0FBQztJQUVELFdBQVc7UUFDUCxJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQzNCLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLEVBQUMsVUFBVSxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFDLENBQUMsQ0FBQztRQUNqRSxJQUFJLENBQUMsWUFBWSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDN0IsQ0FBQztDQUNKO0FBNUJELGlDQTRCQztBQUFBLENBQUMiLCJmaWxlIjoibGliL2NoYXJhY3Rlci9jaGFyYWN0ZXIubW9kZWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgTWFzdGVyTW9kZWwgZnJvbSAnLi4vbWFzdGVyL21hc3Rlci5tb2RlbCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJhY3Rlck1vZGVsIGV4dGVuZHMgTWFzdGVyTW9kZWwge1xuXG4gICAgaW5pdChmaWxlcywgYXBwKSB7XG4gICAgICAgIGxldCBsb29rcyA9IHtcbiAgICAgICAgICAgIGc6IEJvb2xlYW4sXG4gICAgICAgICAgICBleWVzOiBTdHJpbmcsXG4gICAgICAgICAgICBub3NlOiBTdHJpbmcsXG4gICAgICAgICAgICBtb3V0aDogU3RyaW5nLFxuICAgICAgICAgICAgc2tpbjogU3RyaW5nLFxuICAgICAgICAgICAgaGFpcjogU3RyaW5nXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2NoZW1hID0ge1xuICAgICAgICAgICAgbmFtZTogU3RyaW5nLFxuICAgICAgICAgICAgbG9va3NcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0ZW5Gb3JTY2hlbWFBZGRpdGlvbignQ2hhcmFjdGVyJyk7XG4gICAgfVxuXG4gICAgZ2V0IHByaW9yaXR5KCkge1xuICAgICAgICByZXR1cm4gMTA7XG4gICAgfVxuXG4gICAgY3JlYXRlTW9kZWwoKSB7XG4gICAgICAgIHRoaXMuc2V0TW9kZWwoJ0NoYXJhY3RlcicpO1xuICAgICAgICB0aGlzLmFkZFRvU2NoZW1hKCdVc2VyJywge2NoYXJhY3RlcnM6IFt0aGlzLmdldE1vZGVsKCkuc2NoZW1hXX0pO1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbignQ2hhcmFjdGVyJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59OyJdfQ==
